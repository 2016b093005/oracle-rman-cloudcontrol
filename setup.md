# Create directories
mkdir -p /nfs-shared/backup/${ORACLE_SID}/database  
mkdir -p /nfs-shared/backup/${ORACLE_SID}/archivelog  
mkdir -p /nfs-shared/backup/${ORACLE_SID}/longterm  
#mkdir -p /nfs-shared/backup/${ORACLE_SID}/fra  
#mkdir -p /nfs-shared/backup/${ORACLE_SID}/rfi  
#mkdir -p /nfs-shared/export/${ORACLE_SID}  

## or for RAC
mkdir -p /nfs-shared/backup/${DBName}/database  
mkdir -p /nfs-shared/backup/${DBName}/archivelog  
mkdir -p /nfs-shared/backup/${DBName}/longterm  
#mkdir -p /nfs-shared/backup/${DBName}/fra  
#mkdir -p /nfs-shared/backup/${DBName}/rfi  
#mkdir -p /nfs-shared/export/${DBName} 

---

# RMAN Configuration examples 11g

## Dataguard: PRIMARY
```
CONFIGURE RETENTION POLICY TO RECOVERY WINDOW OF 31 DAYS;
CONFIGURE BACKUP OPTIMIZATION ON;
CONFIGURE DEFAULT DEVICE TYPE TO DISK; # default
CONFIGURE CONTROLFILE AUTOBACKUP ON;
CONFIGURE CONTROLFILE AUTOBACKUP FORMAT FOR DEVICE TYPE DISK TO '/nfs-shared/backup/PRIMARYDB/database/%F';
CONFIGURE DEVICE TYPE DISK BACKUP TYPE TO COMPRESSED BACKUPSET PARALLELISM 2;
CONFIGURE DATAFILE BACKUP COPIES FOR DEVICE TYPE DISK TO 1; # default
CONFIGURE ARCHIVELOG BACKUP COPIES FOR DEVICE TYPE DISK TO 1; # default
CONFIGURE CHANNEL DEVICE TYPE DISK FORMAT '/nfs-shared/backup/PRIMARYDB/database/%d_%s_%p_%T.bkp';
CONFIGURE MAXSETSIZE TO UNLIMITED; # default
CONFIGURE ENCRYPTION FOR DATABASE OFF; # default
CONFIGURE ENCRYPTION ALGORITHM 'AES128'; # default
CONFIGURE COMPRESSION ALGORITHM 'BASIC' AS OF RELEASE 'DEFAULT' OPTIMIZE FOR LOAD TRUE ; # default
CONFIGURE SNAPSHOT CONTROLFILE NAME TO '/u01/app/oracle/product/11.2.0.2/dbs/snapcf_PRIMARYDB.f'; # default
 
# Dataguard specific settings 
CONFIGURE DB_UNIQUE_NAME 'standbydb' CONNECT IDENTIFIER  'STANDBYDB';
CONFIGURE DB_UNIQUE_NAME 'primarydb' CONNECT IDENTIFIER  'STANDBYDB';
CONFIGURE ARCHIVELOG DELETION POLICY TO APPLIED ON ALL STANDBY BACKED UP 1 TIMES to DISK;
```
## Dataguard: STANDBY
```
CONFIGURE RETENTION POLICY TO RECOVERY WINDOW OF 31 DAYS;
CONFIGURE BACKUP OPTIMIZATION ON;
CONFIGURE DEFAULT DEVICE TYPE TO DISK; # default
CONFIGURE CONTROLFILE AUTOBACKUP ON;
CONFIGURE CONTROLFILE AUTOBACKUP FORMAT FOR DEVICE TYPE DISK TO '/nfs-shared/backup/PRIMARYDB/database/%F';
CONFIGURE DEVICE TYPE DISK BACKUP TYPE TO COMPRESSED BACKUPSET PARALLELISM 2;
CONFIGURE DATAFILE BACKUP COPIES FOR DEVICE TYPE DISK TO 1; # default
CONFIGURE ARCHIVELOG BACKUP COPIES FOR DEVICE TYPE DISK TO 1; # default
CONFIGURE CHANNEL DEVICE TYPE DISK FORMAT   '/nfs-shared/backup/PRIMARYDB/database/%d_%s_%p_%T.bkp';
CONFIGURE MAXSETSIZE TO UNLIMITED; # default
CONFIGURE ENCRYPTION FOR DATABASE OFF; # default
CONFIGURE ENCRYPTION ALGORITHM 'AES128'; # default
CONFIGURE COMPRESSION ALGORITHM 'BASIC' AS OF RELEASE 'DEFAULT' OPTIMIZE FOR LOAD TRUE ; # default
CONFIGURE SNAPSHOT CONTROLFILE NAME TO '/u01/app/oracle/product/11.2.0.2/dbs/snapcf_STANDBYDB.f'; # default
 
# Dataguard specific settings 
CONFIGURE DB_UNIQUE_NAME 'standbydb' CONNECT IDENTIFIER  'STANDBYDB';
CONFIGURE DB_UNIQUE_NAME 'primarydb' CONNECT IDENTIFIER  'STANDBYDB';
CONFIGURE ARCHIVELOG DELETION POLICY TO APPLIED ON ALL STANDBY;
```
